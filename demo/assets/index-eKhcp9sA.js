(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const xr=!1;var hi=Array.isArray,cs=Array.prototype.indexOf,vn=Array.prototype.includes,lr=Array.from,vi=Object.defineProperty,$t=Object.getOwnPropertyDescriptor,_i=Object.getOwnPropertyDescriptors,us=Object.prototype,fs=Array.prototype,Dr=Object.getPrototypeOf,Jr=Object.isExtensible;const Bt=()=>{};function ds(e){return e()}function Sr(e){for(var t=0;t<e.length;t++)e[t]()}function pi(){var e,t,n=new Promise((i,r)=>{e=i,t=r});return{promise:n,resolve:e,reject:t}}const _e=2,jn=4,Vn=8,bi=1<<24,Mt=16,at=32,tn=64,mi=128,$e=512,fe=1024,pe=2048,We=4096,Oe=8192,Tt=16384,qn=32768,_n=65536,Zr=1<<17,gi=1<<18,gn=1<<19,yi=1<<20,It=1<<25,Zt=65536,Tr=1<<21,Or=1<<22,zt=1<<23,Wt=Symbol("$state"),hs=Symbol("legacy props"),vs=Symbol(""),Vt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function wi(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function _s(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ps(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function bs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ms(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function gs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ys(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ws(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ks(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Es(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function xs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ss(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Ts=1,Ms=2,Cs=16,As=1,Ls=2,Is=4,zs=8,Ps=16,Ns=1,Ds=2,ve=Symbol(),ki="http://www.w3.org/1999/xhtml";function Os(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Ei(e){return e===this.v}function xi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Si(e){return!xi(e,this.v)}let yn=!1,Rs=!1;function Fs(){yn=!0}let ee=null;function pn(e){ee=e}function or(e,t=!1,n){ee={p:ee,i:!1,c:null,e:null,s:e,x:null,l:yn&&!t?{s:null,u:null,$:[]}:null}}function cr(e){var t=ee,n=t.e;if(n!==null){t.e=null;for(var i of n)Yi(i)}return e!==void 0&&(t.x=e),t.i=!0,ee=t.p,e??{}}function Xn(){return!yn||ee!==null&&ee.l===null}let dn=[];function Hs(){var e=dn;dn=[],Sr(e)}function Pt(e){if(dn.length===0){var t=dn;queueMicrotask(()=>{t===dn&&Hs()})}dn.push(e)}function Ti(e){var t=V;if(t===null)return Y.f|=zt,e;if((t.f&qn)===0&&(t.f&jn)===0)throw e;bn(e,t)}function bn(e,t){for(;t!==null;){if((t.f&mi)!==0){if((t.f&qn)===0)throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const js=-7169;function ie(e,t){e.f=e.f&js|t}function Rr(e){(e.f&$e)!==0||e.deps===null?ie(e,fe):ie(e,We)}function Mi(e){if(e!==null)for(const t of e)(t.f&_e)===0||(t.f&Zt)===0||(t.f^=Zt,Mi(t.deps))}function Ci(e,t,n){(e.f&pe)!==0?t.add(e):(e.f&We)!==0&&n.add(e),Mi(e.deps),ie(e,fe)}const er=new Set;let ne=null,rt=null,qe=[],Fr=null,Mr=!1;class Nt{committed=!1;current=new Map;previous=new Map;#t=new Set;#l=new Set;#e=0;#s=0;#a=null;#r=new Set;#n=new Set;#i=new Map;is_fork=!1;#o=!1;is_deferred(){return this.is_fork||this.#s>0}skip_effect(t){this.#i.has(t)||this.#i.set(t,{d:[],m:[]})}unskip_effect(t){var n=this.#i.get(t);if(n){this.#i.delete(t);for(var i of n.d)ie(i,pe),it(i);for(i of n.m)ie(i,We),it(i)}}process(t){qe=[],this.apply();var n=[],i=[];for(const r of t)this.#c(r,n,i);if(this.is_deferred()){this.#u(i),this.#u(n);for(const[r,a]of this.#i)Ii(r,a)}else{for(const r of this.#t)r();this.#t.clear(),this.#e===0&&this.#f(),ne=null,Qr(i),Qr(n),this.#a?.resolve()}rt=null}#c(t,n,i){t.f^=fe;for(var r=t.first,a=null;r!==null;){var o=r.f,l=(o&(at|tn))!==0,f=l&&(o&fe)!==0,c=f||(o&Oe)!==0||this.#i.has(r);if(!c&&r.fn!==null){l?r.f^=fe:a!==null&&(o&(jn|Vn|bi))!==0?a.b.defer_effect(r):(o&jn)!==0?n.push(r):wn(r)&&((o&Mt)!==0&&this.#n.add(r),en(r));var p=r.first;if(p!==null){r=p;continue}}var y=r.parent;for(r=r.next;r===null&&y!==null;)y===a&&(a=null),r=y.next,y=y.parent}}#u(t){for(var n=0;n<t.length;n+=1)Ci(t[n],this.#r,this.#n)}capture(t,n){n!==ve&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&zt)===0&&(this.current.set(t,t.v),rt?.set(t,t.v))}activate(){ne=this,this.apply()}deactivate(){ne===this&&(ne=null,rt=null)}flush(){if(this.activate(),qe.length>0){if(Ys(),ne!==null&&ne!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#l)t(this);this.#l.clear()}#f(){if(er.size>1){this.previous.clear();var t=rt,n=!0;for(const r of er){if(r===this){n=!1;continue}const a=[];for(const[l,f]of this.current){if(r.current.has(l))if(n&&f!==r.current.get(l))r.current.set(l,f);else continue;a.push(l)}if(a.length===0)continue;const o=[...r.current.keys()].filter(l=>!this.current.has(l));if(o.length>0){var i=qe;qe=[];const l=new Set,f=new Map;for(const c of a)Ai(c,o,l,f);if(qe.length>0){ne=r,r.apply();for(const c of qe)r.#c(c,[],[]);r.deactivate()}qe=i}}ne=null,rt=t}this.committed=!0,er.delete(this)}increment(t){this.#e+=1,t&&(this.#s+=1)}decrement(t){this.#e-=1,t&&(this.#s-=1),!this.#o&&(this.#o=!0,Pt(()=>{this.#o=!1,this.is_deferred()?qe.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#r)this.#n.delete(t),ie(t,pe),it(t);for(const t of this.#n)ie(t,We),it(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#l.add(t)}settled(){return(this.#a??=pi()).promise}static ensure(){if(ne===null){const t=ne=new Nt;er.add(ne),Pt(()=>{ne===t&&t.flush()})}return ne}apply(){}}function Ys(){Mr=!0;var e=null;try{for(var t=0;qe.length>0;){var n=Nt.ensure();if(t++>1e3){var i,r;Us()}n.process(qe),Dt.clear()}}finally{qe=[],Mr=!1,Fr=null}}function Us(){try{ys()}catch(e){bn(e,Fr)}}let St=null;function Qr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var i=e[n++];if((i.f&(Tt|Oe))===0&&wn(i)&&(St=new Set,en(i),i.deps===null&&i.first===null&&i.nodes===null&&i.teardown===null&&i.ac===null&&Vi(i),St?.size>0)){Dt.clear();for(const r of St){if((r.f&(Tt|Oe))!==0)continue;const a=[r];let o=r.parent;for(;o!==null;)St.has(o)&&(St.delete(o),a.push(o)),o=o.parent;for(let l=a.length-1;l>=0;l--){const f=a[l];(f.f&(Tt|Oe))===0&&en(f)}}St.clear()}}St=null}}function Ai(e,t,n,i){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const r of e.reactions){const a=r.f;(a&_e)!==0?Ai(r,t,n,i):(a&(Or|Mt))!==0&&(a&pe)===0&&Li(r,t,i)&&(ie(r,pe),it(r))}}function Li(e,t,n){const i=n.get(e);if(i!==void 0)return i;if(e.deps!==null)for(const r of e.deps){if(vn.call(t,r))return!0;if((r.f&_e)!==0&&Li(r,t,n))return n.set(r,!0),!0}return n.set(e,!1),!1}function it(e){for(var t=Fr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Mr&&t===V&&(n&Mt)!==0&&(n&gi)===0)return;if((n&(tn|at))!==0){if((n&fe)===0)return;t.f^=fe}}qe.push(t)}function Ii(e,t){if(!((e.f&at)!==0&&(e.f&fe)!==0)){(e.f&pe)!==0?t.d.push(e):(e.f&We)!==0&&t.m.push(e),ie(e,fe);for(var n=e.first;n!==null;)Ii(n,t),n=n.next}}function Vs(e){let t=0,n=Qt(0),i;return()=>{Ur()&&(s(n),dr(()=>(t===0&&(i=P(()=>e(()=>Hn(n)))),t+=1,()=>{Pt(()=>{t-=1,t===0&&(i?.(),i=void 0,Hn(n))})})))}}var qs=_n|gn|mi;function Xs(e,t,n){new $s(e,t,n)}class $s{parent;is_pending=!1;#t;#l=null;#e;#s;#a;#r=null;#n=null;#i=null;#o=null;#c=null;#u=0;#f=0;#v=!1;#h=!1;#_=new Set;#p=new Set;#d=null;#w=Vs(()=>(this.#d=Qt(this.#u),()=>{this.#d=null}));constructor(t,n,i){this.#t=t,this.#e=n,this.#s=i,this.parent=V.b,this.is_pending=!!this.#e.pending,this.#a=Xr(()=>{V.b=this;{var r=this.#g();try{this.#r=Xe(()=>i(r))}catch(a){this.error(a)}this.#f>0?this.#m():this.is_pending=!1}return()=>{this.#c?.remove()}},qs)}#k(){try{this.#r=Xe(()=>this.#s(this.#t))}catch(t){this.error(t)}}#E(){const t=this.#e.pending;t&&(this.#n=Xe(()=>t(this.#t)),Pt(()=>{var n=this.#g();this.#r=this.#b(()=>(Nt.ensure(),Xe(()=>this.#s(n)))),this.#f>0?this.#m():(Gt(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#g(){var t=this.#t;return this.is_pending&&(this.#c=Kt(),this.#t.before(this.#c),t=this.#c),t}defer_effect(t){Ci(t,this.#_,this.#p)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#b(t){var n=V,i=Y,r=ee;vt(this.#a),Ke(this.#a),pn(this.#a.ctx);try{return t()}catch(a){return Ti(a),null}finally{vt(n),Ke(i),pn(r)}}#m(){const t=this.#e.pending;this.#r!==null&&(this.#o=document.createDocumentFragment(),this.#o.append(this.#c),$i(this.#r,this.#o)),this.#n===null&&(this.#n=Xe(()=>t(this.#t)))}#y(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(t);return}if(this.#f+=t,this.#f===0){this.is_pending=!1;for(const n of this.#_)ie(n,pe),it(n);for(const n of this.#p)ie(n,We),it(n);this.#_.clear(),this.#p.clear(),this.#n&&Gt(this.#n,()=>{this.#n=null}),this.#o&&(this.#t.before(this.#o),this.#o=null)}}update_pending_count(t){this.#y(t),this.#u+=t,!(!this.#d||this.#v)&&(this.#v=!0,Pt(()=>{this.#v=!1,this.#d&&mn(this.#d,this.#u)}))}get_effect_pending(){return this.#w(),s(this.#d)}error(t){var n=this.#e.onerror;let i=this.#e.failed;if(this.#h||!n&&!i)throw t;this.#r&&(Ce(this.#r),this.#r=null),this.#n&&(Ce(this.#n),this.#n=null),this.#i&&(Ce(this.#i),this.#i=null);var r=!1,a=!1;const o=()=>{if(r){Os();return}r=!0,a&&Ss(),Nt.ensure(),this.#u=0,this.#i!==null&&Gt(this.#i,()=>{this.#i=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#b(()=>(this.#h=!1,Xe(()=>this.#s(this.#t)))),this.#f>0?this.#m():this.is_pending=!1};Pt(()=>{try{a=!0,n?.(t,o),a=!1}catch(l){bn(l,this.#a&&this.#a.parent)}i&&(this.#i=this.#b(()=>{Nt.ensure(),this.#h=!0;try{return Xe(()=>{i(this.#t,()=>t,()=>o)})}catch(l){return bn(l,this.#a.parent),null}finally{this.#h=!1}}))})}}function Bs(e,t,n,i){const r=Xn()?ur:Hr;var a=e.filter(v=>!v.settled);if(n.length===0&&a.length===0){i(t.map(r));return}var o=ne,l=V,f=Ws(),c=a.length===1?a[0].promise:a.length>1?Promise.all(a.map(v=>v.promise)):null;function p(v){f();try{i(v)}catch(S){(l.f&Tt)===0&&bn(S,l)}o?.deactivate(),Cr()}if(n.length===0){c.then(()=>p(t.map(r)));return}function y(){f(),Promise.all(n.map(v=>Ks(v))).then(v=>p([...t.map(r),...v])).catch(v=>bn(v,l))}c?c.then(y):y()}function Ws(){var e=V,t=Y,n=ee,i=ne;return function(a=!0){vt(e),Ke(t),pn(n),a&&i?.activate()}}function Cr(){vt(null),Ke(null),pn(null)}function ur(e){var t=_e|pe,n=Y!==null&&(Y.f&_e)!==0?Y:null;return V!==null&&(V.f|=gn),{ctx:ee,deps:null,effects:null,equals:Ei,f:t,fn:e,reactions:null,rv:0,v:ve,wv:0,parent:n??V,ac:null}}function Ks(e,t,n){let i=V;i===null&&_s();var r=i.b,a=void 0,o=Qt(ve),l=!Y,f=new Map;return la(()=>{var c=pi();a=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject).then(()=>{p===ne&&p.committed&&p.deactivate(),Cr()})}catch(S){c.reject(S),Cr()}var p=ne;if(l){var y=r.is_rendered();r.update_pending_count(1),p.increment(y),f.get(p)?.reject(Vt),f.delete(p),f.set(p,c)}const v=(S,h=void 0)=>{if(p.activate(),h)h!==Vt&&(o.f|=zt,mn(o,h));else{(o.f&zt)!==0&&(o.f^=zt),mn(o,S);for(const[x,M]of f){if(f.delete(x),x===p)break;M.reject(Vt)}}l&&(r.update_pending_count(-1),p.decrement(y))};c.promise.then(v,S=>v(null,S||"unknown"))}),fr(()=>{for(const c of f.values())c.reject(Vt)}),new Promise(c=>{function p(y){function v(){y===a?c(o):p(a)}y.then(v,v)}p(a)})}function Hr(e){const t=ur(e);return t.equals=Si,t}function Gs(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ce(t[n])}}function Js(e){for(var t=e.parent;t!==null;){if((t.f&_e)===0)return(t.f&Tt)===0?t:null;t=t.parent}return null}function jr(e){var t,n=V;vt(Js(e));try{e.f&=~Zt,Gs(e),t=Gi(e)}finally{vt(n)}return t}function zi(e){var t=jr(e);if(!e.equals(t)&&(e.wv=Wi(),(!ne?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){ie(e,fe);return}Ot||(rt!==null?(Ur()||ne?.is_fork)&&rt.set(e,t):Rr(e))}function Zs(e){if(e.effects!==null)for(const t of e.effects)(t.teardown||t.ac)&&(t.teardown?.(),t.ac?.abort(Vt),t.teardown=Bt,t.ac=null,Yn(t,0),$r(t))}function Pi(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&en(t)}let Ar=new Set;const Dt=new Map;let Ni=!1;function Qt(e,t){var n={f:0,v:e,reactions:null,equals:Ei,rv:0,wv:0};return n}function At(e,t){const n=Qt(e);return ua(n),n}function $(e,t=!1,n=!0){const i=Qt(e);return t||(i.equals=Si),yn&&n&&ee!==null&&ee.l!==null&&(ee.l.s??=[]).push(i),i}function tr(e,t){return w(e,P(()=>s(e))),t}function w(e,t,n=!1){Y!==null&&(!st||(Y.f&Zr)!==0)&&Xn()&&(Y.f&(_e|Mt|Or|Zr))!==0&&(Be===null||!vn.call(Be,e))&&xs();let i=n?hn(t):t;return mn(e,i)}function mn(e,t){if(!e.equals(t)){var n=e.v;Ot?Dt.set(e,t):Dt.set(e,n),e.v=t;var i=Nt.ensure();if(i.capture(e,n),(e.f&_e)!==0){const r=e;(e.f&pe)!==0&&jr(r),Rr(r)}e.wv=Wi(),Di(e,pe),Xn()&&V!==null&&(V.f&fe)!==0&&(V.f&(at|tn))===0&&(Ve===null?fa([e]):Ve.push(e)),!i.is_fork&&Ar.size>0&&!Ni&&Qs()}return t}function Qs(){Ni=!1;for(const e of Ar)(e.f&fe)!==0&&ie(e,We),wn(e)&&en(e);Ar.clear()}function Hn(e){w(e,e.v+1)}function Di(e,t){var n=e.reactions;if(n!==null)for(var i=Xn(),r=n.length,a=0;a<r;a++){var o=n[a],l=o.f;if(!(!i&&o===V)){var f=(l&pe)===0;if(f&&ie(o,t),(l&_e)!==0){var c=o;rt?.delete(c),(l&Zt)===0&&(l&$e&&(o.f|=Zt),Di(c,We))}else f&&((l&Mt)!==0&&St!==null&&St.add(o),it(o))}}}function hn(e){if(typeof e!="object"||e===null||Wt in e)return e;const t=Dr(e);if(t!==us&&t!==fs)return e;var n=new Map,i=hi(e),r=At(0),a=Jt,o=l=>{if(Jt===a)return l();var f=Y,c=Jt;Ke(null),ni(a);var p=l();return Ke(f),ni(c),p};return i&&n.set("length",At(e.length)),new Proxy(e,{defineProperty(l,f,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&ks();var p=n.get(f);return p===void 0?o(()=>{var y=At(c.value);return n.set(f,y),y}):w(p,c.value,!0),!0},deleteProperty(l,f){var c=n.get(f);if(c===void 0){if(f in l){const p=o(()=>At(ve));n.set(f,p),Hn(r)}}else w(c,ve),Hn(r);return!0},get(l,f,c){if(f===Wt)return e;var p=n.get(f),y=f in l;if(p===void 0&&(!y||$t(l,f)?.writable)&&(p=o(()=>{var S=hn(y?l[f]:ve),h=At(S);return h}),n.set(f,p)),p!==void 0){var v=s(p);return v===ve?void 0:v}return Reflect.get(l,f,c)},getOwnPropertyDescriptor(l,f){var c=Reflect.getOwnPropertyDescriptor(l,f);if(c&&"value"in c){var p=n.get(f);p&&(c.value=s(p))}else if(c===void 0){var y=n.get(f),v=y?.v;if(y!==void 0&&v!==ve)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return c},has(l,f){if(f===Wt)return!0;var c=n.get(f),p=c!==void 0&&c.v!==ve||Reflect.has(l,f);if(c!==void 0||V!==null&&(!p||$t(l,f)?.writable)){c===void 0&&(c=o(()=>{var v=p?hn(l[f]):ve,S=At(v);return S}),n.set(f,c));var y=s(c);if(y===ve)return!1}return p},set(l,f,c,p){var y=n.get(f),v=f in l;if(i&&f==="length")for(var S=c;S<y.v;S+=1){var h=n.get(S+"");h!==void 0?w(h,ve):S in l&&(h=o(()=>At(ve)),n.set(S+"",h))}if(y===void 0)(!v||$t(l,f)?.writable)&&(y=o(()=>At(void 0)),w(y,hn(c)),n.set(f,y));else{v=y.v!==ve;var x=o(()=>hn(c));w(y,x)}var M=Reflect.getOwnPropertyDescriptor(l,f);if(M?.set&&M.set.call(p,c),!v){if(i&&typeof f=="string"){var A=n.get("length"),_=Number(f);Number.isInteger(_)&&_>=A.v&&w(A,_+1)}Hn(r)}return!0},ownKeys(l){s(r);var f=Reflect.ownKeys(l).filter(y=>{var v=n.get(y);return v===void 0||v.v!==ve});for(var[c,p]of n)p.v!==ve&&!(c in l)&&f.push(c);return f},setPrototypeOf(){Es()}})}var ei,Oi,Ri,Fi;function ea(){if(ei===void 0){ei=window,Oi=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Ri=$t(t,"firstChild").get,Fi=$t(t,"nextSibling").get,Jr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Jr(n)&&(n.__t=void 0)}}function Kt(e=""){return document.createTextNode(e)}function sr(e){return Ri.call(e)}function $n(e){return Fi.call(e)}function E(e,t){return sr(e)}function wr(e,t=!1){{var n=sr(e);return n instanceof Comment&&n.data===""?$n(n):n}}function I(e,t=1,n=!1){let i=e;for(;t--;)i=$n(i);return i}function ta(e){e.textContent=""}function Hi(){return!1}function na(e,t,n){return document.createElementNS(ki,e,void 0)}function Yr(e){var t=Y,n=V;Ke(null),vt(null);try{return e()}finally{Ke(t),vt(n)}}function ji(e){V===null&&(Y===null&&gs(),ms()),Ot&&bs()}function ra(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function _t(e,t,n){var i=V;i!==null&&(i.f&Oe)!==0&&(e|=Oe);var r={ctx:ee,deps:null,nodes:null,f:e|pe|$e,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{en(r)}catch(l){throw Ce(r),l}else t!==null&&it(r);var a=r;if(n&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&gn)===0&&(a=a.first,(e&Mt)!==0&&(e&_n)!==0&&a!==null&&(a.f|=_n)),a!==null&&(a.parent=i,i!==null&&ra(a,i),Y!==null&&(Y.f&_e)!==0&&(e&tn)===0)){var o=Y;(o.effects??=[]).push(a)}return r}function Ur(){return Y!==null&&!st}function fr(e){const t=_t(Vn,null,!1);return ie(t,fe),t.teardown=e,t}function Lr(e){ji();var t=V.f,n=!Y&&(t&at)!==0&&(t&qn)===0;if(n){var i=ee;(i.e??=[]).push(e)}else return Yi(e)}function Yi(e){return _t(jn|yi,e,!1)}function ia(e){return ji(),_t(Vn|yi,e,!0)}function sa(e){Nt.ensure();const t=_t(tn|gn,e,!0);return(n={})=>new Promise(i=>{n.outro?Gt(t,()=>{Ce(t),i(void 0)}):(Ce(t),i(void 0))})}function aa(e){return _t(jn,e,!1)}function Vr(e,t){var n=ee,i={effect:null,ran:!1,deps:e};n.l.$.push(i),i.effect=dr(()=>{e(),!i.ran&&(i.ran=!0,P(t))})}function qr(){var e=ee;dr(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&fe)!==0&&n.deps!==null&&ie(n,We),wn(n)&&en(n),t.ran=!1}})}function la(e){return _t(Or|gn,e,!0)}function dr(e,t=0){return _t(Vn|t,e,!0)}function G(e,t=[],n=[],i=[]){Bs(i,t,n,r=>{_t(Vn,()=>e(...r.map(s)),!0)})}function Xr(e,t=0){var n=_t(Mt|t,e,!0);return n}function Xe(e){return _t(at|gn,e,!0)}function Ui(e){var t=e.teardown;if(t!==null){const n=Ot,i=Y;ti(!0),Ke(null);try{t.call(null)}finally{ti(n),Ke(i)}}}function $r(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const r=n.ac;r!==null&&Yr(()=>{r.abort(Vt)});var i=n.next;(n.f&tn)!==0?n.parent=null:Ce(n,t),n=i}}function oa(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&at)===0&&Ce(t),t=n}}function Ce(e,t=!0){var n=!1;(t||(e.f&gi)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(ca(e.nodes.start,e.nodes.end),n=!0),$r(e,t&&!n),Yn(e,0),ie(e,Tt);var i=e.nodes&&e.nodes.t;if(i!==null)for(const a of i)a.stop();Ui(e);var r=e.parent;r!==null&&r.first!==null&&Vi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function ca(e,t){for(;e!==null;){var n=e===t?null:$n(e);e.remove(),e=n}}function Vi(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function Gt(e,t,n=!0){var i=[];qi(e,i,!0);var r=()=>{n&&Ce(e),t&&t()},a=i.length;if(a>0){var o=()=>--a||r();for(var l of i)l.out(o)}else r()}function qi(e,t,n){if((e.f&Oe)===0){e.f^=Oe;var i=e.nodes&&e.nodes.t;if(i!==null)for(const l of i)(l.is_global||n)&&t.push(l);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&_n)!==0||(r.f&at)!==0&&(e.f&Mt)!==0;qi(r,t,o?n:!1),r=a}}}function Br(e){Xi(e,!0)}function Xi(e,t){if((e.f&Oe)!==0){e.f^=Oe,(e.f&fe)===0&&(ie(e,pe),it(e));for(var n=e.first;n!==null;){var i=n.next,r=(n.f&_n)!==0||(n.f&at)!==0;Xi(n,r?t:!1),n=i}var a=e.nodes&&e.nodes.t;if(a!==null)for(const o of a)(o.is_global||t)&&o.in()}}function $i(e,t){if(e.nodes)for(var n=e.nodes.start,i=e.nodes.end;n!==null;){var r=n===i?null:$n(n);t.append(n),n=r}}let ir=!1,Ot=!1;function ti(e){Ot=e}let Y=null,st=!1;function Ke(e){Y=e}let V=null;function vt(e){V=e}let Be=null;function ua(e){Y!==null&&(Be===null?Be=[e]:Be.push(e))}let Te=null,Ne=0,Ve=null;function fa(e){Ve=e}let Bi=1,qt=0,Jt=qt;function ni(e){Jt=e}function Wi(){return++Bi}function wn(e){var t=e.f;if((t&pe)!==0)return!0;if(t&_e&&(e.f&=~Zt),(t&We)!==0){for(var n=e.deps,i=n.length,r=0;r<i;r++){var a=n[r];if(wn(a)&&zi(a),a.wv>e.wv)return!0}(t&$e)!==0&&rt===null&&ie(e,fe)}return!1}function Ki(e,t,n=!0){var i=e.reactions;if(i!==null&&!(Be!==null&&vn.call(Be,e)))for(var r=0;r<i.length;r++){var a=i[r];(a.f&_e)!==0?Ki(a,t,!1):t===a&&(n?ie(a,pe):(a.f&fe)!==0&&ie(a,We),it(a))}}function Gi(e){var t=Te,n=Ne,i=Ve,r=Y,a=Be,o=ee,l=st,f=Jt,c=e.f;Te=null,Ne=0,Ve=null,Y=(c&(at|tn))===0?e:null,Be=null,pn(e.ctx),st=!1,Jt=++qt,e.ac!==null&&(Yr(()=>{e.ac.abort(Vt)}),e.ac=null);try{e.f|=Tr;var p=e.fn,y=p();e.f|=qn;var v=e.deps,S=ne?.is_fork;if(Te!==null){var h;if(S||Yn(e,Ne),v!==null&&Ne>0)for(v.length=Ne+Te.length,h=0;h<Te.length;h++)v[Ne+h]=Te[h];else e.deps=v=Te;if(Ur()&&(e.f&$e)!==0)for(h=Ne;h<v.length;h++)(v[h].reactions??=[]).push(e)}else!S&&v!==null&&Ne<v.length&&(Yn(e,Ne),v.length=Ne);if(Xn()&&Ve!==null&&!st&&v!==null&&(e.f&(_e|We|pe))===0)for(h=0;h<Ve.length;h++)Ki(Ve[h],e);if(r!==null&&r!==e){if(qt++,r.deps!==null)for(let x=0;x<n;x+=1)r.deps[x].rv=qt;if(t!==null)for(const x of t)x.rv=qt;Ve!==null&&(i===null?i=Ve:i.push(...Ve))}return(e.f&zt)!==0&&(e.f^=zt),y}catch(x){return Ti(x)}finally{e.f^=Tr,Te=t,Ne=n,Ve=i,Y=r,Be=a,pn(o),st=l,Jt=f}}function da(e,t){let n=t.reactions;if(n!==null){var i=cs.call(n,e);if(i!==-1){var r=n.length-1;r===0?n=t.reactions=null:(n[i]=n[r],n.pop())}}if(n===null&&(t.f&_e)!==0&&(Te===null||!vn.call(Te,t))){var a=t;(a.f&$e)!==0&&(a.f^=$e,a.f&=~Zt),Rr(a),Zs(a),Yn(a,0)}}function Yn(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)da(e,n[i])}function en(e){var t=e.f;if((t&Tt)===0){ie(e,fe);var n=V,i=ir;V=e,ir=!0;try{(t&(Mt|bi))!==0?oa(e):$r(e),Ui(e);var r=Gi(e);e.teardown=typeof r=="function"?r:null,e.wv=Bi;var a;xr&&Rs&&(e.f&pe)!==0&&e.deps}finally{ir=i,V=n}}}function s(e){var t=e.f,n=(t&_e)!==0;if(Y!==null&&!st){var i=V!==null&&(V.f&Tt)!==0;if(!i&&(Be===null||!vn.call(Be,e))){var r=Y.deps;if((Y.f&Tr)!==0)e.rv<qt&&(e.rv=qt,Te===null&&r!==null&&r[Ne]===e?Ne++:Te===null?Te=[e]:Te.push(e));else{(Y.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[Y]:vn.call(a,Y)||a.push(Y)}}}if(Ot&&Dt.has(e))return Dt.get(e);if(n){var o=e;if(Ot){var l=o.v;return((o.f&fe)===0&&o.reactions!==null||Zi(o))&&(l=jr(o)),Dt.set(o,l),l}var f=(o.f&$e)===0&&!st&&Y!==null&&(ir||(Y.f&$e)!==0),c=(o.f&qn)===0;wn(o)&&(f&&(o.f|=$e),zi(o)),f&&!c&&(Pi(o),Ji(o))}if(rt?.has(e))return rt.get(e);if((e.f&zt)!==0)throw e.v;return e.v}function Ji(e){if(e.f|=$e,e.deps!==null)for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&_e)!==0&&(t.f&$e)===0&&(Pi(t),Ji(t))}function Zi(e){if(e.v===ve)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Dt.has(t)||(t.f&_e)!==0&&Zi(t))return!0;return!1}function P(e){var t=st;try{return st=!0,e()}finally{st=t}}function Un(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Wt in e)Ir(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Wt in n&&Ir(n)}}}function Ir(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{Ir(e[i],t)}catch{}const n=Dr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const i=_i(n);for(let r in i){const a=i[r].get;if(a)try{a.call(e)}catch{}}}}}const ha=["touchstart","touchmove"];function va(e){return ha.includes(e)}const _a=Symbol("events"),pa=new Set,ri=new Set;function ba(e,t,n,i={}){function r(a){if(i.capture||zr.call(t,a),!a.cancelBubble)return Yr(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Pt(()=>{t.addEventListener(e,r,i)}):t.addEventListener(e,r,i),r}function X(e,t,n,i,r){var a={capture:i,passive:r},o=ba(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&fr(()=>{t.removeEventListener(e,o,a)})}let ii=null;function zr(e){var t=this,n=t.ownerDocument,i=e.type,r=e.composedPath?.()||[],a=r[0]||e.target;ii=e;var o=0,l=ii===e&&e.__root;if(l){var f=r.indexOf(l);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var c=r.indexOf(t);if(c===-1)return;f<=c&&(o=f)}if(a=r[o]||e.target,a!==t){vi(e,"currentTarget",{configurable:!0,get(){return a||n}});var p=Y,y=V;Ke(null),vt(null);try{for(var v,S=[];a!==null;){var h=a.assignedSlot||a.parentNode||a.host||null;try{var x=a[_a]?.[i];x!=null&&(!a.disabled||e.target===a)&&x.call(a,e)}catch(M){v?S.push(M):v=M}if(e.cancelBubble||h===t||h===null)break;a=h}if(v){for(let M of S)queueMicrotask(()=>{throw M});throw v}}finally{e.__root=t,delete e.currentTarget,Ke(p),vt(y)}}}const ma=globalThis?.window?.trustedTypes?.createPolicy("svelte-trusted-html",{createHTML:e=>e});function ga(e){return ma?.createHTML(e)??e}function ya(e,t=!1){var n=na("template");return e=e.replaceAll("<!>","<!---->"),n.innerHTML=t?ga(e):e,n.content}function si(e,t){var n=V;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function R(e,t){var n=(t&Ns)!==0,i=(t&Ds)!==0,r,a=!e.startsWith("<!>");return()=>{r===void 0&&(r=ya(a?e:"<!>"+e,!0),n||(r=sr(r)));var o=i||Oi?document.importNode(r,!0):r.cloneNode(!0);if(n){var l=sr(o),f=o.lastChild;si(l,f)}else si(o,o);return o}}function O(e,t){e!==null&&e.before(t)}function te(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function wa(e,t){return ka(e,t)}const nr=new Map;function ka(e,{target:t,anchor:n,props:i={},events:r,context:a,intro:o=!0}){ea();var l=new Set,f=y=>{for(var v=0;v<y.length;v++){var S=y[v];if(!l.has(S)){l.add(S);var h=va(S);for(const A of[t,document]){var x=nr.get(A);x===void 0&&(x=new Map,nr.set(A,x));var M=x.get(S);M===void 0?(A.addEventListener(S,zr,{passive:h}),x.set(S,1)):x.set(S,M+1)}}}};f(lr(pa)),ri.add(f);var c=void 0,p=sa(()=>{var y=n??t.appendChild(Kt());return Xs(y,{pending:()=>{}},v=>{or({});var S=ee;a&&(S.c=a),r&&(i.$$events=r),c=e(v,i)||{},cr()}),()=>{for(var v of l)for(const x of[t,document]){var S=nr.get(x),h=S.get(v);--h==0?(x.removeEventListener(v,zr),S.delete(v),S.size===0&&nr.delete(x)):S.set(v,h)}ri.delete(f),y!==n&&y.parentNode?.removeChild(y)}});return Ea.set(c,p),c}let Ea=new WeakMap;class xa{anchor;#t=new Map;#l=new Map;#e=new Map;#s=new Set;#a=!0;constructor(t,n=!0){this.anchor=t,this.#a=n}#r=()=>{var t=ne;if(this.#t.has(t)){var n=this.#t.get(t),i=this.#l.get(n);if(i)Br(i),this.#s.delete(n);else{var r=this.#e.get(n);r&&(this.#l.set(n,r.effect),this.#e.delete(n),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),i=r.effect)}for(const[a,o]of this.#t){if(this.#t.delete(a),a===t)break;const l=this.#e.get(o);l&&(Ce(l.effect),this.#e.delete(o))}for(const[a,o]of this.#l){if(a===n||this.#s.has(a))continue;const l=()=>{if(Array.from(this.#t.values()).includes(a)){var c=document.createDocumentFragment();$i(o,c),c.append(Kt()),this.#e.set(a,{effect:o,fragment:c})}else Ce(o);this.#s.delete(a),this.#l.delete(a)};this.#a||!i?(this.#s.add(a),Gt(o,l,!1)):l()}}};#n=t=>{this.#t.delete(t);const n=Array.from(this.#t.values());for(const[i,r]of this.#e)n.includes(i)||(Ce(r.effect),this.#e.delete(i))};ensure(t,n){var i=ne,r=Hi();if(n&&!this.#l.has(t)&&!this.#e.has(t))if(r){var a=document.createDocumentFragment(),o=Kt();a.append(o),this.#e.set(t,{effect:Xe(()=>n(o)),fragment:a})}else this.#l.set(t,Xe(()=>n(this.anchor)));if(this.#t.set(i,t),r){for(const[l,f]of this.#l)l===t?i.unskip_effect(f):i.skip_effect(f);for(const[l,f]of this.#e)l===t?i.unskip_effect(f.effect):i.skip_effect(f.effect);i.oncommit(this.#r),i.ondiscard(this.#n)}else this.#r()}}function De(e,t,n=!1){var i=new xa(e),r=n?_n:0;function a(o,l){i.ensure(o,l)}Xr(()=>{var o=!1;t((l,f=0)=>{o=!0,a(f,l)}),o||a(!1,null)},r)}function dt(e,t){return t}function Sa(e,t,n){for(var i=[],r=t.length,a,o=t.length,l=0;l<r;l++){let y=t[l];Gt(y,()=>{if(a){if(a.pending.delete(y),a.done.add(y),a.pending.size===0){var v=e.outrogroups;Pr(lr(a.done)),v.delete(a),v.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var f=i.length===0&&n!==null;if(f){var c=n,p=c.parentNode;ta(p),p.append(c),e.items.clear()}Pr(t,!f)}else a={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(a)}function Pr(e,t=!0){for(var n=0;n<e.length;n++)Ce(e[n],t)}var ai;function ht(e,t,n,i,r,a=null){var o=e,l=new Map;{var f=e;o=f.appendChild(Kt())}var c=null,p=Hr(()=>{var M=n();return hi(M)?M:M==null?[]:lr(M)}),y,v=!0;function S(){x.fallback=c,Ta(x,y,o,t,i),c!==null&&(y.length===0?(c.f&It)===0?Br(c):(c.f^=It,Fn(c,null,o)):Gt(c,()=>{c=null}))}var h=Xr(()=>{y=s(p);for(var M=y.length,A=new Set,_=ne,D=Hi(),B=0;B<M;B+=1){var L=y[B],m=i(L,B),W=v?null:l.get(m);W?(W.v&&mn(W.v,L),W.i&&mn(W.i,B),D&&_.unskip_effect(W.e)):(W=Ma(l,v?o:ai??=Kt(),L,m,B,r,t,n),v||(W.e.f|=It),l.set(m,W)),A.add(m)}if(M===0&&a&&!c&&(v?c=Xe(()=>a(o)):(c=Xe(()=>a(ai??=Kt())),c.f|=It)),M>A.size&&ps(),!v)if(D){for(const[K,le]of l)A.has(K)||_.skip_effect(le.e);_.oncommit(S),_.ondiscard(()=>{})}else S();s(p)}),x={effect:h,items:l,outrogroups:null,fallback:c};v=!1}function Rn(e){for(;e!==null&&(e.f&at)===0;)e=e.next;return e}function Ta(e,t,n,i,r){var a=t.length,o=e.items,l=Rn(e.effect.first),f,c=null,p=[],y=[],v,S,h,x;for(x=0;x<a;x+=1){if(v=t[x],S=r(v,x),h=o.get(S).e,e.outrogroups!==null)for(const K of e.outrogroups)K.pending.delete(h),K.done.delete(h);if((h.f&It)!==0)if(h.f^=It,h===l)Fn(h,null,n);else{var M=c?c.next:l;h===e.effect.last&&(e.effect.last=h.prev),h.prev&&(h.prev.next=h.next),h.next&&(h.next.prev=h.prev),Lt(e,c,h),Lt(e,h,M),Fn(h,M,n),c=h,p=[],y=[],l=Rn(c.next);continue}if((h.f&Oe)!==0&&Br(h),h!==l){if(f!==void 0&&f.has(h)){if(p.length<y.length){var A=y[0],_;c=A.prev;var D=p[0],B=p[p.length-1];for(_=0;_<p.length;_+=1)Fn(p[_],A,n);for(_=0;_<y.length;_+=1)f.delete(y[_]);Lt(e,D.prev,B.next),Lt(e,c,D),Lt(e,B,A),l=A,c=B,x-=1,p=[],y=[]}else f.delete(h),Fn(h,l,n),Lt(e,h.prev,h.next),Lt(e,h,c===null?e.effect.first:c.next),Lt(e,c,h),c=h;continue}for(p=[],y=[];l!==null&&l!==h;)(f??=new Set).add(l),y.push(l),l=Rn(l.next);if(l===null)continue}(h.f&It)===0&&p.push(h),c=h,l=Rn(h.next)}if(e.outrogroups!==null){for(const K of e.outrogroups)K.pending.size===0&&(Pr(lr(K.done)),e.outrogroups?.delete(K));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||f!==void 0){var L=[];if(f!==void 0)for(h of f)(h.f&Oe)===0&&L.push(h);for(;l!==null;)(l.f&Oe)===0&&l!==e.fallback&&L.push(l),l=Rn(l.next);var m=L.length;if(m>0){var W=a===0?n:null;Sa(e,L,W)}}}function Ma(e,t,n,i,r,a,o,l){var f=(o&Ts)!==0?(o&Cs)===0?$(n,!1,!1):Qt(n):null,c=(o&Ms)!==0?Qt(r):null;return{v:f,i:c,e:Xe(()=>(a(t,f??n,c??r,l),()=>{e.delete(i)}))}}function Fn(e,t,n){if(e.nodes)for(var i=e.nodes.start,r=e.nodes.end,a=t&&(t.f&It)===0?t.nodes.start:n;i!==null;){var o=$n(i);if(a.before(i),i===r)return;i=o}}function Lt(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function li(e,t,n,i,r){var a=t.$$slots?.[n],o=!1;a===!0&&(a=t[n==="default"?"children":n],o=!0),a===void 0||a(e,o?()=>i:i)}const oi=[...` 	
\r\fÂ \v\uFEFF`];function Ca(e,t,n){var i=e==null?"":""+e;if(t&&(i=i?i+" "+t:t),n){for(var r in n)if(n[r])i=i?i+" "+r:r;else if(i.length)for(var a=r.length,o=0;(o=i.indexOf(r,o))>=0;){var l=o+a;(o===0||oi.includes(i[o-1]))&&(l===i.length||oi.includes(i[l]))?i=(o===0?"":i.substring(0,o))+i.substring(l+1):o=l}}return i===""?null:i}function Aa(e,t){return e==null?null:String(e)}function se(e,t,n,i,r,a){var o=e.__className;if(o!==n||o===void 0){var l=Ca(n,i,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(a&&r!==a)for(var f in a){var c=!!a[f];(r==null||c!==!!r[f])&&e.classList.toggle(f,c)}return a}function kr(e,t,n,i){var r=e.__style;if(r!==t){var a=Aa(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return i}const La=Symbol("is custom element"),Ia=Symbol("is html");function Er(e,t){var n=Qi(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Xt(e,t,n,i){var r=Qi(e);r[t]!==(r[t]=n)&&(t==="loading"&&(e[vs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&za(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Qi(e){return e.__attributes??={[La]:e.nodeName.includes("-"),[Ia]:e.namespaceURI===ki}}var ci=new Map;function za(e){var t=e.getAttribute("is")||e.nodeName,n=ci.get(t);if(n)return n;ci.set(t,n=[]);for(var i,r=e,a=Element.prototype;a!==r;){i=_i(r);for(var o in i)i[o].set&&n.push(o);r=Dr(r)}return n}function nt(e,t,n){var i=$t(e,t);i&&i.set&&(e[t]=n,fr(()=>{e[t]=null}))}function ui(e,t){return e===t||e?.[Wt]===t}function ar(e={},t,n,i){return aa(()=>{var r,a;return dr(()=>{r=a,a=[],P(()=>{e!==n(...a)&&(t(e,...a),r&&ui(n(...r),e)&&t(null,...r))})}),()=>{Pt(()=>{a&&ui(n(...a),e)&&t(null,...a)})}}),e}function Wr(e=!1){const t=ee,n=t.l.u;if(!n)return;let i=()=>Un(t.s);if(e){let r=0,a={};const o=ur(()=>{let l=!1;const f=t.s;for(const c in f)f[c]!==a[c]&&(a[c]=f[c],l=!0);return l&&r++,r});i=()=>s(o)}n.b.length&&ia(()=>{fi(t,i),Sr(n.b)}),Lr(()=>{const r=P(()=>n.m.map(ds));return()=>{for(const a of r)typeof a=="function"&&a()}}),n.a.length&&Lr(()=>{fi(t,i),Sr(n.a)})}function fi(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}function es(e,t,n){if(e==null)return t(void 0),Bt;const i=P(()=>e.subscribe(t,n));return i.unsubscribe?()=>i.unsubscribe():i}const un=[];function Pa(e,t=Bt){let n=null;const i=new Set;function r(l){if(xi(e,l)&&(e=l,n)){const f=!un.length;for(const c of i)c[1](),un.push(c,e);if(f){for(let c=0;c<un.length;c+=2)un[c][0](un[c+1]);un.length=0}}}function a(l){r(l(e))}function o(l,f=Bt){const c=[l,f];return i.add(c),i.size===1&&(n=t(r,a)||Bt),l(e),()=>{i.delete(c),i.size===0&&n&&(n(),n=null)}}return{set:r,update:a,subscribe:o}}function Na(e){let t;return es(e,n=>t=n)(),t}let rr=!1,Nr=Symbol();function Da(e,t,n){const i=n[t]??={store:null,source:$(void 0),unsubscribe:Bt};if(i.store!==e&&!(Nr in n))if(i.unsubscribe(),i.store=e??null,e==null)i.source.v=void 0,i.unsubscribe=Bt;else{var r=!0;i.unsubscribe=es(e,a=>{r?i.source.v=a:w(i.source,a)}),r=!1}return e&&Nr in n?Na(e):s(i.source)}function Oa(){const e={};function t(){fr(()=>{for(var n in e)e[n].unsubscribe();vi(e,Nr,{enumerable:!1,value:!0})})}return[e,t]}function Ra(e){var t=rr;try{return rr=!1,[e(),rr]}finally{rr=t}}function Me(e,t,n,i){var r=!yn||(n&Ls)!==0,a=(n&zs)!==0,o=(n&Ps)!==0,l=i,f=!0,c=()=>(f&&(f=!1,l=o?P(i):i),l),p;if(a){var y=Wt in e||hs in e;p=$t(e,t)?.set??(y&&t in e?D=>e[t]=D:void 0)}var v,S=!1;a?[v,S]=Ra(()=>e[t]):v=e[t],v===void 0&&i!==void 0&&(v=c(),p&&(r&&ws(),p(v)));var h;if(r?h=()=>{var D=e[t];return D===void 0?c():(f=!0,D)}:h=()=>{var D=e[t];return D!==void 0&&(l=void 0),D===void 0?l:D},r&&(n&Is)===0)return h;if(p){var x=e.$$legacy;return(function(D,B){return arguments.length>0?((!r||!B||x||S)&&p(B?h():D),D):h()})}var M=!1,A=((n&As)!==0?ur:Hr)(()=>(M=!1,h()));a&&s(A);var _=V;return(function(D,B){if(arguments.length>0){const L=B?s(A):r&&a?hn(D):D;return w(A,L),M=!0,l!==void 0&&(l=L),D}return Ot&&M||(_.f&Tt)!==0?A.v:s(A)})}function Kr(e){ee===null&&wi(),yn&&ee.l!==null?Fa(ee).m.push(e):Lr(()=>{const t=P(e);if(typeof t=="function")return t})}function ts(e){ee===null&&wi(),Kr(()=>()=>P(e))}function Fa(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Ha="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ha);Fs();var ja=R('<button type="button"> </button>'),Ya=R('<button role="tab"> </button>'),Ua=R('<button><span class="icon" aria-hidden="true"><img alt="" loading="lazy"/></span> <span class="label"> </span></button>'),Va=R('<section class="group-card"><div class="actions"></div> <footer> </footer></section>'),qa=R('<section class="ribbon-shell" aria-label="Main CAD ribbon"><div class="app-strip"><div class="app-brand" aria-label="democad"><div class="badge">democad</div></div> <div class="doc-title">Untitled Project</div> <nav class="app-links" aria-label="Quick links"></nav></div> <div class="tab-row" role="tablist" aria-label="Ribbon tabs"></div> <div class="group-row" role="region"></div></section>');function Xa(e,t){or(t,!1);const n=$();let i=Me(t,"tabs",24,()=>[]),r=Me(t,"activeTabId",8,""),a=Me(t,"appLinks",24,()=>[]),o=Me(t,"onAppLink",8,()=>{}),l=Me(t,"onTabChange",8,()=>{}),f=Me(t,"onAction",8,()=>{});Vr(()=>(Un(i()),Un(r())),()=>{w(n,i().find(h=>h.id===r())??i()[0])}),qr(),Wr();var c=qa(),p=E(c),y=I(E(p),4);ht(y,5,a,dt,(h,x)=>{var M=ja(),A=E(M);G(()=>te(A,(s(x),P(()=>s(x).label)))),X("click",M,()=>o()(s(x).label)),O(h,M)});var v=I(p,2);ht(v,5,i,dt,(h,x)=>{var M=Ya();let A;var _=E(M);G(()=>{A=se(M,1,"tab-btn",null,A,{active:s(x).id===s(n).id}),Xt(M,"aria-selected",(s(x),s(n),P(()=>s(x).id===s(n).id))),te(_,(s(x),P(()=>s(x).label)))}),X("click",M,()=>l()(s(x).id)),O(h,M)});var S=I(v,2);ht(S,5,()=>(s(n),P(()=>s(n).groups)),dt,(h,x)=>{var M=Va(),A=E(M);ht(A,5,()=>(s(x),P(()=>s(x).actions)),dt,(B,L)=>{var m=Ua();let W;var K=E(m),le=E(K),Ae=I(K,2),Le=E(Ae);G(()=>{W=se(m,1,"action-btn",null,W,{"size-large":s(L).size==="large","size-small":s(L).size!=="large",selected:s(L).selected,emphasized:s(L).emphasized}),Xt(m,"title",(s(L),P(()=>s(L).hint))),Xt(le,"src",(s(L),P(()=>s(L).icon))),te(Le,(s(L),P(()=>s(L).label)))}),X("click",m,()=>f()(s(L).id)),O(B,m)});var _=I(A,2),D=E(_);G(()=>te(D,(s(x),P(()=>s(x).label)))),O(h,M)}),G(()=>Xt(S,"aria-label",(s(n),P(()=>`${s(n).label} tools`)))),O(e,c),cr()}var $a=R("<p> </p>"),Ba=R('<section><header><div class="panel-heading"><h2> </h2> <!></div> <div class="panel-actions"><!></div></header> <div class="content"><!></div></section>');function fn(e,t){let n=Me(t,"title",8,"Panel"),i=Me(t,"subtitle",8,""),r=Me(t,"compact",8,!1);var a=Ba();let o;var l=E(a),f=E(l),c=E(f),p=E(c),y=I(c,2);{var v=A=>{var _=$a(),D=E(_);G(()=>te(D,i())),O(A,_)};De(y,A=>{i()&&A(v)})}var S=I(f,2),h=E(S);li(h,t,"header-actions",{});var x=I(l,2),M=E(x);li(M,t,"default",{}),G(()=>{o=se(a,1,"panel",null,o,{compact:r()}),te(p,n())}),O(e,a)}const Wa="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/icons",N=e=>`${Wa}/${e}.svg`,di=[{id:"home",label:"Home",groups:[{id:"project",label:"Project",actions:[{id:"new-project",label:"New Project",icon:N("file-earmark-plus"),hint:"Create a new project file",size:"large",emphasized:!0},{id:"open-project",label:"Open",icon:N("folder2-open"),hint:"Open an existing project",size:"small"},{id:"export-project",label:"Export",icon:N("box-arrow-up-right"),hint:"Export geometry to exchange format",size:"small"},{id:"save-project",label:"Save",icon:N("floppy"),hint:"Save current project",size:"small"},{id:"save-project-as",label:"Save As",icon:N("floppy2"),hint:"Save project with a new name",size:"small"}]},{id:"model",label:"Model",actions:[{id:"create-extrude",label:"Extrude",icon:N("box"),hint:"Create volume from profile",size:"large",emphasized:!0},{id:"create-revolve",label:"Revolve",icon:N("arrow-repeat"),hint:"Revolve profile around axis",size:"small"},{id:"create-loft",label:"Loft",icon:N("layers"),hint:"Blend between profiles",size:"small"}]},{id:"construction",label:"Construct",actions:[{id:"create-sketch",label:"Sketch",icon:N("pencil-square"),hint:"Start a new sketch",size:"large"},{id:"create-plane",label:"Plane",icon:N("square"),hint:"Create a reference plane",size:"small"},{id:"create-axis",label:"Axis",icon:N("textarea-resize"),hint:"Create a reference axis",size:"small"}]}]},{id:"sketch",label:"Sketch",groups:[{id:"sketch-session",label:"Sketch",actions:[{id:"sketch-edit",label:"Edit",icon:N("pencil-square"),hint:"Edit selected sketch",size:"large"},{id:"sketch-apply",label:"Apply",icon:N("check2-circle"),hint:"Apply and close active sketch session",size:"large"}]},{id:"sketch-create",label:"Create",actions:[{id:"sketch-extrude",label:"Extrude",icon:N("box"),hint:"Create an extrude from sketch",size:"large"},{id:"sketch-revolve",label:"Revolve",icon:N("arrow-repeat"),hint:"Create a revolve from sketch",size:"small"},{id:"sketch-loft",label:"Loft",icon:N("layers"),hint:"Create a loft from sketch",size:"small"}]},{id:"draw",label:"Draw",actions:[{id:"draw-none",label:"None",icon:N("cursor"),hint:"Exit active draw tool",size:"large"},{id:"draw-line",label:"Line",icon:N("slash-lg"),hint:"2-point line tool",size:"large",emphasized:!0},{id:"draw-circle",label:"Circle",icon:N("circle"),hint:"Center-point circle tool",size:"small"},{id:"draw-arc",label:"Arc",icon:N("pie-chart"),hint:"3-point arc tool",size:"small"},{id:"draw-center-rectangle",label:"Center Rect",icon:N("bounding-box"),hint:"Rectangle from center",size:"small"},{id:"draw-corner-rectangle",label:"Corner Rect",icon:N("square"),hint:"Rectangle from corner",size:"small"},{id:"draw-inscribed-polygon",label:"Inscribed Poly",icon:N("pentagon"),hint:"Polygon inscribed in circle",size:"small"},{id:"draw-circumscribed-polygon",label:"Circumscribed Poly",icon:N("hexagon"),hint:"Polygon circumscribed about circle",size:"small"}]},{id:"constraints",label:"Constraints",actions:[{id:"constraint-incident",label:"Incident",icon:N("dot"),hint:"Coincident / incident constraint",size:"small"},{id:"constraint-perpendicular",label:"Perpendicular",icon:N("distribute-vertical"),hint:"Perpendicular constraint",size:"small"},{id:"constraint-parallel",label:"Parallel",icon:N("pause"),hint:"Parallel constraint",size:"small"},{id:"constraint-concentric",label:"Concentric",icon:N("bullseye"),hint:"Concentric circles/arcs",size:"small"},{id:"constraint-tangent",label:"Tangent",icon:N("bezier2"),hint:"Tangent continuity constraint",size:"small"},{id:"constraint-equal",label:"Equal",icon:N("equals"),hint:"Equal length/radius constraint",size:"small"}]}]},{id:"view",label:"View",groups:[{id:"camera",label:"Camera",actions:[{id:"camera-fit",label:"Fit",icon:N("arrows-fullscreen"),hint:"Fit model in view",size:"large"},{id:"camera-orthographic",label:"Orthographic",icon:N("bounding-box"),hint:"Use orthographic projection",size:"small",emphasized:!0},{id:"camera-perspective",label:"Perspective",icon:N("camera"),hint:"Use perspective projection",size:"small"},{id:"camera-zoom-in",label:"Zoom In",icon:N("zoom-in"),hint:"Zoom camera in",size:"small"},{id:"camera-zoom-out",label:"Zoom Out",icon:N("zoom-out"),hint:"Zoom camera out",size:"small"}]},{id:"display",label:"Display",actions:[{id:"display-wireframe",label:"Wireframe",icon:N("grid-3x3"),hint:"Show wireframe mode",size:"small"},{id:"display-shaded",label:"Shaded",icon:N("eye-fill"),hint:"Show shaded mode",size:"small"},{id:"display-shaded-edges",label:"Shaded + Edges",icon:N("bounding-box-circles"),hint:"Show shaded mode with edges",size:"small",emphasized:!0},{id:"display-shaded-hidden-edges",label:"Shaded + Hidden Edges",icon:N("eye-slash"),hint:"Show shaded mode with hidden edges",size:"small"}]}]}],ns=Pa([]);function U(e,t){const n=new Date().toLocaleTimeString("en-US",{hour12:!1});ns.update(i=>[...i.slice(-199),{level:e,text:t,time:n}])}function Ka(e){if(!e)return[];const t=[],n=r=>{if(typeof r!="number"||!Number.isFinite(r))return;const a=r>>>0;if(!(a===0||a===4294967295))return a};function i(r,a,o){if(!r)return;let l="folder";r.type==="plane_t"||r.type==="axis_t"?l="folder":r.type==="sketch_t"?l="sketch":r.type==="line_t"||r.type==="circle_t"||r.type==="rectangle_t"?l="operation":r.type==="body_t"||r.type==="solid_t"?l="solid":r.type==="document_t"&&(l="folder");const f=n(r.entity_id),c=f!==void 0?`entity-${f.toString(16)}`:`path-${o}`;if(t.push({id:c,name:r.name||r.type||"Unnamed",type:l,depth:a,entityId:f}),r.children&&Array.isArray(r.children))for(let p=0;p<r.children.length;p++)i(r.children[p],a+1,`${o}-${p}`)}return i(e,0,"0"),t}var Ga=R("<header><h3> </h3> <small> </small></header>"),Ja=R('<section><!> <div class="viewport-canvas"><canvas id="cad-canvas" class="gl-canvas"></canvas></div></section>');function Za(e,t){or(t,!1);let n=Me(t,"title",8,"Viewport"),i=Me(t,"subtitle",8,""),r=Me(t,"mode",8,"scene"),a=Me(t,"sketchTool",8,"none"),o=Me(t,"showHeader",8,!0);function l(){if(!m?._cad_get_document_json||!m?.UTF8ToString)return null;const u=m._cad_get_document_json(),k=m.UTF8ToString(u);try{return JSON.parse(k)}catch(g){return console.error("[cad] Failed to parse document JSON:",g),null}}function f(u){if(!m?._cad_set_selected_entity)return;const k=lt(u);m._cad_set_selected_entity(k),Rt=k}function c(u){if(!m?._cad_set_hovered_entity)return;const k=lt(u);m._cad_set_hovered_entity(k),He=k}function p(u){if(!m?._cad_create_sketch_on_plane)return!1;const k=lt(u);if(k===me)return!1;const g=m._cad_create_sketch_on_plane(k);return g&&je(),!!g}function y(u,k){if(!m?._cad_set_object_visibility||!Number.isFinite(u)||u<=0)return!1;const g=Math.floor(u),C=m._cad_set_object_visibility(g,k?1:0);return C&&je(),!!C}function v(u){if(!m?._cad_enter_sketch_mode)return!1;const k=lt(u);if(k===me)return!1;const g=m._cad_enter_sketch_mode(k);return g&&je(),!!g}function S(){if(!m?._cad_exit_sketch_mode)return!1;const u=m._cad_exit_sketch_mode();return u&&je(),!!u}function h(){if(!m?._cad_create_line_in_active_sketch)return!1;const u=m._cad_create_line_in_active_sketch();return u&&je(),!!u}function x(){if(!m?._cad_create_circle_in_active_sketch)return!1;const u=m._cad_create_circle_in_active_sketch();return u&&je(),!!u}function M(){if(!m?._cad_create_corner_rectangle_in_active_sketch)return!1;const u=m._cad_create_corner_rectangle_in_active_sketch();return u&&je(),!!u}function A(){if(!m?._cad_extrude_selected)return!1;const u=m._cad_extrude_selected();return u&&je(),!!u}let _=$(null),D=$(null),B=null,L=null,m=null,W=null,K=null,le="none",Ae=0,Le=0,de=0,Re=!1,Ge=!1,Fe=null,Ie=0,he=0,be=0;const Je=5,Ct=300,pt=3,Ze=.04,me=4294967295;let He=me,Rt=me,bt=$(null),nn=$(a()),rn=$(r());const lt=u=>{const k=u>>>0;return k===0||k===me?me:k},kn=u=>{u!==He&&(He=u,window.dispatchEvent(new CustomEvent("cad-entity-hovered",{detail:{entityId:u}})))},Ft=u=>{u!==Rt&&(Rt=u,window.dispatchEvent(new CustomEvent("cad-entity-selected",{detail:{entityId:u}})))},En=()=>{m?._cad_set_hovered_entity?.(me),kn(me)},je=()=>{const u=l();u&&window.dispatchEvent(new CustomEvent("cad-document-updated",{detail:{docJson:u}}))},hr=(u,k)=>{window.dispatchEvent(new CustomEvent("cad-sketch-entity-created",{detail:{tool:u,success:k}}))},mt=(u,k)=>{if(!m||r()!=="sketch"||a()==="none")return!1;const g=a();if(!s(bt))return w(bt,{x:u,y:k}),U("info",`${g}: first point set.`),!0;const C=s(bt);w(bt,null);let H=!1;return g==="line"?H=!!m._cad_create_line_in_active_sketch_screen?.(C.x,C.y,u,k):g==="circle"?H=!!m._cad_create_circle_in_active_sketch_screen?.(C.x,C.y,u,k):g==="corner-rectangle"&&(H=!!m._cad_create_corner_rectangle_in_active_sketch_screen?.(C.x,C.y,u,k)),H&&je(),hr(g,H),!0},sn=()=>{!s(_)||!m?._cad_set_viewport||(console.log("[cad] Setting viewport:",s(_).width,"x",s(_).height),m._cad_set_viewport(0,0,Math.max(1,s(_).width),Math.max(1,s(_).height),Math.max(1,Math.floor(window.innerWidth)),Math.max(1,Math.floor(window.innerHeight))))},Bn=()=>{if(!m?._cad_render_viewport||W!==null)return;const u=()=>{m?._cad_render_viewport?.(),W=window.requestAnimationFrame(u)};W=window.requestAnimationFrame(u)},ot=()=>{s(_)&&(K=s(_).getBoundingClientRect())},Ht=()=>{if(!s(_)||!s(D))return;const u=Math.max(1,window.devicePixelRatio||1),k=Math.max(1,Math.floor(s(D).clientWidth)),g=Math.max(1,Math.floor(s(D).clientHeight)),C=Math.floor(k*u),H=Math.floor(g*u);(s(_).width!==C||s(_).height!==H)&&(tr(_,s(_).width=C),tr(_,s(_).height=H)),tr(_,s(_).style.width=k+"px"),tr(_,s(_).style.height=g+"px"),sn(),ot()},Ee=(u,k)=>K?{x:Math.floor(u-K.left),y:Math.floor(k-K.top)}:{x:0,y:0},xn=(u,k)=>{if(!K||!s(_))return{x:0,y:0};const g=u-K.left,C=k-K.top,H=s(_).width/Math.max(1,K.width),ae=s(_).height/Math.max(1,K.height),re=Math.round(g*H),oe=Math.round(C*ae);return{x:Math.max(0,Math.min(s(_).width-1,re)),y:Math.max(0,Math.min(s(_).height-1,oe))}},vr=()=>{if(!Fe||!m)return;const u=Fe;Fe=null,Ge=!1;const k=u.x-Ae,g=u.y-Le;le==="orbit"&&(k!==0||g!==0)?m._cad_camera_orbit?.(k,g):le==="pan"&&(Math.hypot(k,g)>=pt&&m._cad_camera_pan?.(k,g),u.zoom!==void 0&&u.zoom!==0&&m._cad_camera_zoom?.(u.zoom)),Ae=u.x,Le=u.y},Wn=(u,k,g)=>{Fe={x:u,y:k,zoom:g},Ge||(Ge=!0,requestAnimationFrame(vr))};let jt=!1,gt=0,Kn=0;const _r=()=>{if(jt=!1,!m?._cad_pick_entity||!m?._cad_set_hovered_entity)return;const u=m._cad_pick_entity(gt,Kn),k=lt(u);m._cad_set_hovered_entity(k),kn(k)},pr=(u,k)=>{gt=u,Kn=k,jt||(jt=!0,requestAnimationFrame(_r))},Gn=u=>{if(!m?._cad_set_cursor_pos||!s(_))return;const k=Ee(u.clientX,u.clientY),g=xn(u.clientX,u.clientY);m._cad_set_cursor_pos(k.x,k.y),pr(g.x,g.y)},Yt=u=>{if(!m?._cad_set_cursor_button_state)return;u.button===0&&(Ie=u.clientX,he=u.clientY,be=Date.now());const g=[1,2,3][u.button]||1;m._cad_set_cursor_button_state(g,!0)},yt=()=>{En()},Sn=u=>{if(!m?._cad_set_cursor_button_state)return;if(u.button===0){const C=Math.abs(u.clientX-Ie),H=Math.abs(u.clientY-he),ae=Date.now()-be;if(C<Je&&H<Je&&ae<Ct){const re=xn(u.clientX,u.clientY);if(r()==="sketch"&&a()!=="none")mt(re.x,re.y);else if(m._cad_pick_entity&&m._cad_set_selected_entity){const oe=m._cad_pick_entity(re.x,re.y),q=lt(oe);m._cad_set_selected_entity(q),Ft(q)}}}const g=[1,2,3][u.button]||1;m._cad_set_cursor_button_state(g,!1)},Tn=u=>{if(!m?._cad_axis_delta)return;u.preventDefault();const k=-Math.sign(u.deltaY);m._cad_axis_delta(0,k)},Qe=u=>{m?._cad_set_modifier_state&&(u.key==="Shift"?m._cad_set_modifier_state(2,!0):u.key==="Control"?m._cad_set_modifier_state(1,!0):u.key==="Alt"&&m._cad_set_modifier_state(3,!0))},Mn=u=>{m?._cad_set_modifier_state&&(u.key==="Shift"?m._cad_set_modifier_state(2,!1):u.key==="Control"?m._cad_set_modifier_state(1,!1):u.key==="Alt"&&m._cad_set_modifier_state(3,!1))},Cn=u=>{u.preventDefault()},An=u=>{if(!m||!s(_))return;u.cancelable&&u.preventDefault(),En();const k=u.touches.length;if(k===1){const g=Ee(u.touches[0].clientX,u.touches[0].clientY);le=r()==="sketch"?"pan":"orbit",Ae=g.x,Le=g.y,de=0,Re=!0,Ie=u.touches[0].clientX,he=u.touches[0].clientY,be=Date.now()}else if(k>=2){const g=Ee(u.touches[0].clientX,u.touches[0].clientY),C=Ee(u.touches[1].clientX,u.touches[1].clientY),H=Math.floor((g.x+C.x)*.5),ae=Math.floor((g.y+C.y)*.5);le="pan",Ae=H,Le=ae,Re=!1;const re=g.x-C.x,oe=g.y-C.y;de=Math.hypot(re,oe)}},Ln=u=>{if(!m||!s(_))return;u.cancelable&&u.preventDefault();const k=u.touches.length;if(k===1){const g=Ee(u.touches[0].clientX,u.touches[0].clientY),C=r()==="sketch"?"pan":"orbit";if(le!==C){le=C,Ae=g.x,Le=g.y,de=0;return}Wn(g.x,g.y)}else if(k>=2){Re=!1;const g=Ee(u.touches[0].clientX,u.touches[0].clientY),C=Ee(u.touches[1].clientX,u.touches[1].clientY),H=Math.floor((g.x+C.x)*.5),ae=Math.floor((g.y+C.y)*.5),re=g.x-C.x,oe=g.y-C.y,q=Math.hypot(re,oe);if(le!=="pan"){le="pan",Ae=H,Le=ae,de=q;return}let wt=0;de>0&&(wt=(q-de)*Ze),de=q,Wn(H,ae,wt)}},In=u=>{if(!m||!s(_))return;u.cancelable&&u.preventDefault();const k=u.touches.length;if(k===0){if(Re&&u.changedTouches.length>0){const g=u.changedTouches[0],C=Math.abs(g.clientX-Ie),H=Math.abs(g.clientY-he),ae=Date.now()-be;if(C<Je&&H<Je&&ae<Ct){const re=xn(g.clientX,g.clientY);if(r()==="sketch"&&a()!=="none")mt(re.x,re.y);else if(m._cad_pick_entity&&m._cad_set_selected_entity){const oe=m._cad_pick_entity(re.x,re.y),q=lt(oe);m._cad_set_selected_entity(q),Ft(q)}}}le="none",de=0,Fe=null,Ge=!1,Re=!1}else if(k===1){const g=Ee(u.touches[0].clientX,u.touches[0].clientY);le=r()==="sketch"?"pan":"orbit",Ae=g.x,Le=g.y,de=0,Re=!1}else{const g=Ee(u.touches[0].clientX,u.touches[0].clientY),C=Ee(u.touches[1].clientX,u.touches[1].clientY),H=Math.floor((g.x+C.x)*.5),ae=Math.floor((g.y+C.y)*.5);le="pan",Ae=H,Le=ae,Re=!1;const re=g.x-C.x,oe=g.y-C.y;de=Math.hypot(re,oe)}},zn=u=>{u.cancelable&&u.preventDefault(),le="none",de=0,Fe=null,Ge=!1,Re=!1};Kr(()=>{if(!s(_)){console.error("[cad] Canvas element not available");return}Ht(),B=new ResizeObserver(()=>{console.log("[cad] Resize detected"),Ht()}),s(D)&&B.observe(s(D)),window.addEventListener("scroll",ot,{passive:!0}),window.addEventListener("resize",ot,{passive:!0});const u=window;new Promise((g,C)=>{const H={canvas:s(_),print:q=>{console.log("[cad]",q),q.toLowerCase().includes("error")?U("warn",q):q.toLowerCase().includes("warning")?U("info",q):U("ok",q)},printErr:q=>{console.error("[cad]",q),U("warn",q)}};H.onRuntimeInitialized=()=>{console.log("[cad] Runtime initialized"),g(H)},u.Module=H,document.getElementById("cad-wasm-script")?.remove();const ae=["/cad.js","/dist/cad.js"],re=`?v=${Date.now()}_${Math.random()}`,oe=q=>{if(q>=ae.length){C(new Error("Failed to load cad.js from /cad.js or /dist/cad.js"));return}const wt=`${ae[q]}${re}`;fetch(wt,{method:"GET",cache:"no-store",credentials:"same-origin"}).then(Dn=>{if(!Dn.ok){oe(q+1);return}const mr=new URL(wt,window.location.origin).pathname.replace(/\/[^/]*$/,"/");H.locateFile=gr=>`${mr}${gr}${re}`;const kt=document.createElement("script");kt.id="cad-wasm-script",kt.src=wt,kt.async=!0,kt.onload=()=>{u.Module?._cad_create_context&&u.Module.calledRun&&g(u.Module)},kt.onerror=()=>{kt.remove(),oe(q+1)},document.head.appendChild(kt)}).catch(()=>{oe(q+1)})};oe(0)}).then(g=>{if(m=g,!g._cad_create_context)return;L=g._cad_create_context(),g._cad_init_viewport?.();const C=Math.max(1,window.devicePixelRatio||1),H=C;U("info",`DPI: ${C}, setting scale to ${H}`),typeof g._cad_set_dpi_scale=="function"?(g._cad_set_dpi_scale(H),U("ok",`Set DPI scale to ${H}`)):U("warn",`_cad_set_dpi_scale not found (type: ${typeof g._cad_set_dpi_scale})`),sn(),Bn(),je(),s(_)&&(s(_).addEventListener("mousemove",Gn),s(_).addEventListener("mousedown",Yt),s(_).addEventListener("mouseup",Sn),s(_).addEventListener("mouseleave",yt),s(_).addEventListener("wheel",Tn,{passive:!1}),s(_).addEventListener("contextmenu",Cn),s(_).addEventListener("touchstart",An,{passive:!1}),s(_).addEventListener("touchmove",Ln,{passive:!1}),s(_).addEventListener("touchend",In,{passive:!1}),s(_).addEventListener("touchcancel",zn,{passive:!1})),window.addEventListener("keydown",Qe),window.addEventListener("keyup",Mn)}).catch(g=>{console.error("[cad] WASM module load failed:",g)})}),ts(()=>{s(_)&&(s(_).removeEventListener("mousemove",Gn),s(_).removeEventListener("mousedown",Yt),s(_).removeEventListener("mouseup",Sn),s(_).removeEventListener("mouseleave",yt),s(_).removeEventListener("wheel",Tn),s(_).removeEventListener("contextmenu",Cn),s(_).removeEventListener("touchstart",An),s(_).removeEventListener("touchmove",Ln),s(_).removeEventListener("touchend",In),s(_).removeEventListener("touchcancel",zn)),window.removeEventListener("keydown",Qe),window.removeEventListener("keyup",Mn),window.removeEventListener("scroll",ot),window.removeEventListener("resize",ot),le="none",Fe=null,Ge=!1,Re=!1,B?.disconnect(),W!==null&&(window.cancelAnimationFrame(W),W=null);const u=window;L!==null&&u.Module?._cad_destroy_context&&(u.Module._cad_destroy_context(L),L=null),m=null}),Vr(()=>(Un(a()),s(nn),Un(r()),s(rn)),()=>{(a()!==s(nn)||r()!==s(rn))&&(w(bt,null),w(nn,a()),w(rn,r()))}),qr();var Jn={getDocumentJSON:l,selectEntity:f,setHoveredEntity:c,createSketchOnPlane:p,setObjectVisibility:y,enterSketchMode:v,exitSketchMode:S,createLineInActiveSketch:h,createCircleInActiveSketch:x,createCornerRectangleInActiveSketch:M,extrudeSelected:A};Wr();var an=Ja();let ln;var Pn=E(an);{var Zn=u=>{var k=Ga(),g=E(k),C=E(g),H=I(g,2),ae=E(H);G(()=>{te(C,n()),te(ae,i())}),O(u,k)};De(Pn,u=>{o()&&u(Zn)})}var Nn=I(Pn,2),Ut=E(Nn);return ar(Ut,u=>w(_,u),()=>s(_)),ar(Nn,u=>w(D,u),()=>s(D)),G(()=>{ln=se(an,1,`viewport-shell ${r()??""}`,null,ln,{"no-header":!o()}),Xt(Ut,"aria-label",`${n()} WebGL canvas`)}),O(e,an),nt(t,"getDocumentJSON",l),nt(t,"selectEntity",f),nt(t,"setHoveredEntity",c),nt(t,"createSketchOnPlane",p),nt(t,"setObjectVisibility",y),nt(t,"enterSketchMode",v),nt(t,"exitSketchMode",S),nt(t,"createLineInActiveSketch",h),nt(t,"createCircleInActiveSketch",x),nt(t,"createCornerRectangleInActiveSketch",M),nt(t,"extrudeSelected",A),cr(Jn)}var Qa=R('<li><button><span class="glyph" aria-hidden="true"> </span> <span> </span></button></li>'),el=R('<ul class="tree"></ul>'),tl=R('<label class="value value-toggle"><input type="checkbox"/> <span> </span></label>'),nl=R("<button> </button>"),rl=R("<li><span> </span> <!></li>"),il=R('<ul class="inspector-list"></ul>'),sl=R('<li><span class="time"> </span> <span> </span></li>'),al=R('<ul class="console-log"></ul>'),ll=R('<section class="panel-bottom panel-floating desktop-panel"><!></section>'),ol=R('<div class="splitter splitter-bottom desktop-panel" role="separator" aria-label="Resize Console panel" aria-orientation="horizontal"></div>'),cl=R('<button type="button">Console</button>'),ul=R('<li><button><span class="glyph" aria-hidden="true"> </span> <span> </span></button></li>'),fl=R('<ul class="tree"></ul>'),dl=R('<label class="value value-toggle"><input type="checkbox"/> <span> </span></label>'),hl=R("<button> </button>"),vl=R("<li><span> </span> <!></li>"),_l=R('<ul class="inspector-list"></ul>'),pl=R("<li><span> </span></li>"),bl=R('<ul class="console-log"></ul>'),ml=R('<section class="mobile-tray" aria-label="Workspace panels"><button class="tray-grip" type="button" aria-label="Resize panel tray"></button> <nav class="tray-tabs" aria-label="Panel tray"><button type="button">Browser</button> <button type="button">Inspector</button> <!></nav> <button class="panel-close tray-close tray-close-overlay" type="button">Close</button> <div class="tray-body"><!></div></section>'),gl=R("<h3>Project Defaults</h3> <p>Example preferences for units, autosave interval, and startup template.</p>",1),yl=R("<h3>Appearance</h3> <p>Example preferences for theme accents, panel density, and icon scale.</p>",1),wl=R('<h3>Debug</h3> <label class="setting-check"><input type="checkbox"/> <span>Show console</span></label> <p class="setting-note">Use this to reveal or hide the console panel.</p>',1),kl=R('<nav class="cover-tab-row" aria-label="Settings sections"><button type="button">General</button> <button type="button">Appearance</button> <button type="button">Debug</button></nav> <section class="cover-panel"><!></section>',1),El=R(`<div class="about-box"><h3>democad</h3> <p class="version">Version 0.1.0-dev</p> <p>democad is an example implementation of the libcad project, 
                    set up to feel like a conventional parametric CAD application, but as a website!</p></div>`),xl=R('<iframe class="docs-frame" src="https://libcad.org/docs" title="libcad documentation"></iframe>'),Sl=R('<nav class="cover-tab-row" aria-label="Help sections"><button type="button">About</button> <button type="button">Docs</button></nav> <section><!></section>',1),Tl=R('<section class="cover-backdrop" aria-hidden="true"><div class="cover-window" role="dialog" aria-modal="true"><header class="cover-header"><h2> </h2> <button class="panel-close cover-close" type="button">Close</button></header> <div class="cover-content"><!></div></div></section>'),Ml=R('<div><!> <main class="workbench"><section><div class="panel-center"><!></div> <aside class="panel-left panel-floating desktop-panel"><!></aside> <aside class="panel-right panel-floating desktop-panel"><!></aside> <!> <div class="splitter splitter-left desktop-panel" role="separator" aria-label="Resize Browser panel" aria-orientation="vertical"></div> <div class="splitter splitter-right desktop-panel" role="separator" aria-label="Resize Inspector panel" aria-orientation="vertical"></div> <!> <!></section></main> <!> <footer class="statusbar" role="status" aria-label="Application status"><span class="status-text">democad</span> <button class="status-toggle console-toggle" type="button"> </button> <button class="status-toggle show-panels-toggle" type="button">Show Panels</button></footer></div>');function Cl(e,t){or(t,!1);const n=()=>Da(ns,"$consoleMessages",i),[i,r]=Oa();let a=$(di[0].id),o=$([]),l=$(""),f=$(null);const c=4294967295,p=4026531840,y=536870912;let v=c,S=c,h=new Map,x=new Map,M=new Map,A=$("scene"),_=$("none"),D=$([{label:"Selection",value:"No object selected"}]),B=$(null),L=$(null);const m=[{label:"Settings"},{label:"Help"}],W=180,K=96,le=44,Ae=320,Le=180,de=180,Re=5;let Ge=$(250),Fe=$(292),Ie=$(148),he=$(!0),be=$("browser"),Je=$(!1),Ct=$(320),pt=$(null),Ze=$("general"),me=$("about"),He=null,Rt=0,bt=0,nn=0,rn=0,lt=0,kn=0,Ft=null;const En={folder:"+",sketch:"/",solid:"#",operation:"*"};function je(d){if(d==="create-sketch"){if(!Kn(v)){U("warn","Select a plane in the scene or browser, then click Sketch.");return}s(L)?.createSketchOnPlane?.(v)?(s(L)?.enterSketchMode?.(v)?(w(A,"sketch"),w(a,"sketch"),U("ok","Created sketch and entered sketch mode.")):U("warn","Sketch created, but failed to enter sketch mode."),Qe()):U("warn","Failed to create sketch on selected plane.");return}if(d==="sketch-edit"){const b=s(l)?M.get(s(l)):null;if(!b||b.type!=="sketch_t"){U("warn","Select a sketch in the browser, then click Edit.");return}const T=gt(b.reference_plane_entity_id);if(T===c){U("warn","Selected sketch has no reference plane.");return}s(L)?.enterSketchMode?.(T)?(w(A,"sketch"),w(a,"sketch"),U("ok","Entered sketch edit mode."),Qe()):U("warn","Failed to enter sketch mode.");return}if(d==="sketch-apply"){s(L)?.exitSketchMode?.()?(w(A,"scene"),w(_,"none"),w(a,"home"),U("ok","Applied and closed sketch mode."),Qe()):U("warn","Failed to close sketch mode.");return}if(d==="draw-line"){if(s(A)!=="sketch"){U("warn","Enter sketch mode first.");return}w(_,s(_)==="line"?"none":"line"),U("info",s(_)==="line"?"Line tool: tap start, tap end.":"Line tool cancelled.");return}if(d==="draw-none"){w(_,"none"),U("info","Sketch tool set to none.");return}if(d==="draw-circle"){if(s(A)!=="sketch"){U("warn","Enter sketch mode first.");return}w(_,s(_)==="circle"?"none":"circle"),U("info",s(_)==="circle"?"Circle tool: tap center, tap radius.":"Circle tool cancelled.");return}if(d==="draw-corner-rectangle"){if(s(A)!=="sketch"){U("warn","Enter sketch mode first.");return}w(_,s(_)==="corner-rectangle"?"none":"corner-rectangle"),U("info",s(_)==="corner-rectangle"?"Corner rectangle tool: tap corner 1, tap corner 2.":"Corner rectangle tool cancelled.");return}if(d==="create-extrude"||d==="sketch-extrude"){s(L)?.extrudeSelected?.()?(U("ok","Created extrude body from selected profile."),Qe()):U("warn","Select a circle or rectangle first, then click Extrude.");return}console.info(`[ribbon] action selected: ${d}`)}function hr(d){const b=d.trim().toLowerCase();if(b==="settings"){w(pt,"settings"),w(Ze,"general");return}if(b==="help"){w(pt,"help"),w(me,"about");return}console.info(`[app] command selected: ${d}`)}function mt(d,b,T){return Math.max(b,Math.min(T,d))}function sn(){const d=s(B)?.clientWidth??window.innerWidth,b=s(B)?.clientHeight??window.innerHeight;return{width:d,height:b}}function Bn(d){if(!He)return;const{width:b,height:T}=sn();if(He==="left"){const Z=Math.max(W,b-s(Fe)-Ae);w(Ge,mt(nn+(d.clientX-Rt),W,Z));return}if(He==="right"){const Z=Math.max(W,b-s(Ge)-Ae);w(Fe,mt(rn-(d.clientX-Rt),W,Z));return}if(He==="console"){const Z=Math.max(K,T-Le),J=lt-(d.clientY-bt);w(Ie,mt(J,0,Z));return}const F=Math.max(de,T-Re),z=kn-(d.clientY-bt);w(Ct,mt(z,de,F))}function ot(){if(He==="console"&&s(he)){const{height:d}=sn(),b=Math.max(K,d-Le);s(Ie)<=le?Ee(!1):w(Ie,mt(s(Ie),K,b))}He=null,document.body.style.userSelect="",document.body.style.cursor="",window.removeEventListener("pointermove",Bn),window.removeEventListener("pointerup",ot)}function Ht(d,b){He=b,Rt=d.clientX,bt=d.clientY,nn=s(Ge),rn=s(Fe),lt=s(Ie),kn=s(Ct),document.body.style.userSelect="none",document.body.style.cursor=b==="console"||b==="tray"?"row-resize":"col-resize",window.addEventListener("pointermove",Bn),window.addEventListener("pointerup",ot)}function Ee(d){w(he,d),!d&&He==="console"&&ot(),d&&s(Ie)<K&&w(Ie,148)}function xn(){Ee(!s(he))}function vr(){w(pt,null)}function Wn(d){const b=d.currentTarget;b&&Ee(b.checked)}function jt(){const{height:d}=sn(),b=Math.max(de,d-Re);w(Ct,mt(s(Ct),de,b))}function gt(d){if(typeof d!="number"||!Number.isFinite(d))return c;const b=d>>>0;return b===0||b===c?c:b}function Kn(d){return d===c?!1:(d&p)===y}function _r(d){if(typeof d!="number"||!Number.isFinite(d))return null;const b=Math.trunc(d);return b>0?b:null}function pr(d,b){const T=gt(d?.entity_id);return T!==c?`entity-${T.toString(16)}`:`path-${b}`}function Gn(d){const b=new Map;function T(F,z){if(!F)return;const Z=pr(F,z);if(b.set(Z,F),Array.isArray(F.children))for(let J=0;J<F.children.length;J++)T(F.children[J],`${z}-${J}`)}T(d,"0"),M=b}function Yt(d){if(Array.isArray(d))return`[${d.map(b=>Yt(b)).join(", ")}]`;if(typeof d=="number")return Number.isInteger(d)?`${d}`:d.toFixed(4);if(typeof d=="boolean")return d?"true":"false";if(d==null)return"null";if(typeof d=="object")try{return JSON.stringify(d)}catch{return"[object]"}return String(d)}function yt(){const d=s(l)?M.get(s(l)):null,b=_r(d?.object_id);if(!d){w(D,[{label:"Selection",value:"No object selected"}]);return}const T=[{label:"Name",value:Yt(d.name??"(unnamed)")},{label:"Type",value:Yt(d.type??"(unknown)")}];b!==null&&T.push({label:"Object ID",value:`${b}`});const F=gt(d.entity_id);F!==c&&T.push({label:"Entity ID",value:`0x${F.toString(16).toUpperCase()}`}),typeof d.visible=="boolean"&&b!==null&&T.push({label:"Visible",value:d.visible?"true":"false",editable:!0,kind:"visibility",checked:d.visible,objectId:b});const z=new Set(["name","type","children","entity_id","object_id","visible"]);for(const[Z,J]of Object.entries(d))z.has(Z)||T.push({label:Z,value:Yt(J)});w(D,T)}function Sn(d,b){const T=d.currentTarget;if(!T)return;const F=T.checked;if(!s(L)?.setObjectVisibility?.(b,F)){T.checked=!F,U("warn","Failed to update object visibility.");return}U("ok",`Object visibility set to ${F?"visible":"hidden"}.`),Qe()}function Tn(){const d=new Map,b=new Map;for(const T of s(o))if(typeof T.entityId=="number"){const F=gt(T.entityId);F!==c&&(d.set(T.id,F),b.set(F,T.id))}h=d,x=b,v!==c?w(l,x.get(v)??s(l)):s(l)&&!s(o).some(T=>T.id===s(l))?w(l,s(o)[0]?.id??""):!s(l)&&s(o).length>0&&w(l,s(o)[0].id),S!==c?w(f,x.get(S)??null):w(f,null)}function Qe(){if(!s(L)?.getDocumentJSON)return;const d=s(L).getDocumentJSON();Mn(d)}function Mn(d){if(!d)return;Gn(d);const b=Ka(d);b.length>0&&(w(o,b),Tn()),yt()}function Cn(d){w(l,d);const b=h.get(d)??c;v=b,s(L)?.selectEntity?.(b),yt()}function An(d){w(f,d);const b=h.get(d)??c;S=b,s(L)?.setHoveredEntity?.(b)}function Ln(){w(f,null),S=c,s(L)?.setHoveredEntity?.(c)}function In(d){const b=gt(d.detail?.entityId);if(v=b,b===c){w(l,""),yt();return}const T=x.get(b)??s(l);if((T?M.get(T):null)?.visible===!1){v=c,w(l,""),yt();return}w(l,T),yt()}function zn(d){const b=gt(d.detail?.entityId);if(S=b,b===c){w(f,null);return}const T=x.get(b)??null,F=T?M.get(T):null;w(f,F?.visible===!1?null:T)}function Jn(d){Mn(d.detail?.docJson)}function an(d){d.detail?.success?(U("ok",`Created ${d.detail?.tool??"sketch entity"}.`),Qe()):U("warn",`Failed to create ${d.detail?.tool??"sketch entity"}.`)}Kr(()=>{Tn(),yt(),jt(),window.addEventListener("resize",jt),window.addEventListener("cad-entity-selected",In),window.addEventListener("cad-entity-hovered",zn),window.addEventListener("cad-document-updated",Jn),window.addEventListener("cad-sketch-entity-created",an),setTimeout(Qe,1e3);const d=setInterval(Qe,5e3);Ft=window.matchMedia("(max-width: 860px)");const b=T=>{T.matches&&w(Je,!1)};return b(Ft),Ft.addEventListener("change",b),()=>{clearInterval(d),window.removeEventListener("cad-entity-selected",In),window.removeEventListener("cad-entity-hovered",zn),window.removeEventListener("cad-document-updated",Jn),window.removeEventListener("cad-sketch-entity-created",an),Ft?.removeEventListener("change",b),window.removeEventListener("resize",jt)}}),ts(()=>{ot()}),Vr(()=>(s(he),s(be)),()=>{!s(he)&&s(be)==="console"&&w(be,"browser")}),qr(),Wr();var ln=Ml();let Pn;var Zn=E(ln);Xa(Zn,{get tabs(){return di},get activeTabId(){return s(a)},get appLinks(){return m},onAppLink:hr,onTabChange:d=>w(a,d),onAction:je});var Nn=I(Zn,2),Ut=E(Nn);let u;var k=E(Ut),g=E(k);ar(Za(g,{title:"Workspace View",subtitle:"Sketch + Scene Context",get mode(){return s(A)},get sketchTool(){return s(_)},showHeader:!1,$$legacy:!0}),d=>w(L,d),()=>s(L));var C=I(k,2),H=E(C);fn(H,{title:"Browser",children:(d,b)=>{var T=el();ht(T,5,()=>s(o),dt,(F,z)=>{var Z=Qa(),J=E(Z);let ge;var Ye=E(J),ct=E(Ye),ut=I(Ye,2),ce=E(ut);G(()=>{ge=se(J,1,"tree-node",null,ge,{selected:s(z).id===s(l),hovered:s(z).id===s(f)}),kr(J,(s(z),P(()=>`--depth:${s(z).depth}`))),te(ct,(s(z),P(()=>En[s(z).type]))),te(ce,(s(z),P(()=>s(z).name)))}),X("click",J,()=>Cn(s(z).id)),X("mouseenter",J,()=>An(s(z).id)),O(F,Z)}),X("mouseleave",T,Ln),O(d,T)},$$slots:{default:!0}});var ae=I(C,2),re=E(ae);fn(re,{title:"Inspector",children:(d,b)=>{var T=il();ht(T,5,()=>s(D),dt,(F,z)=>{var Z=rl(),J=E(Z),ge=E(J),Ye=I(J,2);{var ct=ce=>{var ye=tl(),xe=E(ye),ze=I(xe,2),Et=E(ze);G(()=>{Er(xe,(s(z),P(()=>s(z).checked??!1))),te(Et,(s(z),P(()=>s(z).checked??!1?"Visible":"Hidden")))}),X("change",xe,Q=>Sn(Q,s(z).objectId)),O(ce,ye)},ut=ce=>{var ye=nl();let xe;var ze=E(ye);G(()=>{xe=se(ye,1,"value",null,xe,{editable:s(z).editable}),te(ze,(s(z),P(()=>s(z).value)))}),O(ce,ye)};De(Ye,ce=>{s(z),P(()=>s(z).kind==="visibility"&&s(z).editable&&typeof s(z).objectId=="number")?ce(ct):ce(ut,!1)})}G(()=>te(ge,(s(z),P(()=>s(z).label)))),O(F,Z)}),O(d,T)},$$slots:{default:!0}});var oe=I(ae,2);{var q=d=>{var b=ll(),T=E(b);fn(T,{title:"Console",compact:!0,children:(F,z)=>{var Z=al();ht(Z,5,n,dt,(J,ge)=>{var Ye=sl(),ct=E(Ye),ut=E(ct),ce=I(ct,2),ye=E(ce);G(()=>{se(Ye,1,(s(ge),P(()=>`level-${s(ge).level}`))),te(ut,`[${s(ge),P(()=>s(ge).time)??""}]`),te(ye,(s(ge),P(()=>s(ge).text)))}),O(J,Ye)}),O(F,Z)},$$slots:{default:!0}}),O(d,b)};De(oe,d=>{s(he)&&d(q)})}var wt=I(oe,2),Dn=I(wt,2),br=I(Dn,2);{var mr=d=>{var b=ol();X("pointerdown",b,T=>Ht(T,"console")),O(d,b)};De(br,d=>{s(he)&&d(mr)})}var kt=I(br,2);{var gr=d=>{var b=ml(),T=E(b),F=I(T,2),z=E(F);let Z;var J=I(z,2);let ge;var Ye=I(J,2);{var ct=Q=>{var we=cl();let et;G(()=>et=se(we,1,"tray-tab",null,et,{active:s(be)==="console"})),X("click",we,()=>w(be,"console")),O(Q,we)};De(Ye,Q=>{s(he)&&Q(ct)})}var ut=I(F,2),ce=I(ut,2),ye=E(ce);{var xe=Q=>{fn(Q,{title:"Browser",children:(we,et)=>{var ke=fl();ht(ke,5,()=>s(o),dt,(xt,j)=>{var Pe=ul(),ue=E(Pe);let Ue;var Se=E(ue),ft=E(Se),On=I(Se,2),tt=E(On);G(()=>{Ue=se(ue,1,"tree-node",null,Ue,{selected:s(j).id===s(l),hovered:s(j).id===s(f)}),kr(ue,(s(j),P(()=>`--depth:${s(j).depth}`))),te(ft,(s(j),P(()=>En[s(j).type]))),te(tt,(s(j),P(()=>s(j).name)))}),X("click",ue,()=>Cn(s(j).id)),X("mouseenter",ue,()=>An(s(j).id)),O(xt,Pe)}),X("mouseleave",ke,Ln),O(we,ke)},$$slots:{default:!0}})},ze=Q=>{fn(Q,{title:"Inspector",children:(we,et)=>{var ke=_l();ht(ke,5,()=>s(D),dt,(xt,j)=>{var Pe=vl(),ue=E(Pe),Ue=E(ue),Se=I(ue,2);{var ft=tt=>{var on=dl(),cn=E(on),yr=I(cn,2),ls=E(yr);G(()=>{Er(cn,(s(j),P(()=>s(j).checked??!1))),te(ls,(s(j),P(()=>s(j).checked??!1?"Visible":"Hidden")))}),X("change",cn,os=>Sn(os,s(j).objectId)),O(tt,on)},On=tt=>{var on=hl();let cn;var yr=E(on);G(()=>{cn=se(on,1,"value",null,cn,{editable:s(j).editable}),te(yr,(s(j),P(()=>s(j).value)))}),O(tt,on)};De(Se,tt=>{s(j),P(()=>s(j).kind==="visibility"&&s(j).editable&&typeof s(j).objectId=="number")?tt(ft):tt(On,!1)})}G(()=>te(Ue,(s(j),P(()=>s(j).label)))),O(xt,Pe)}),O(we,ke)},$$slots:{default:!0}})},Et=Q=>{fn(Q,{title:"Console",compact:!0,children:(we,et)=>{var ke=bl();ht(ke,5,n,dt,(xt,j)=>{var Pe=pl(),ue=E(Pe),Ue=E(ue);G(()=>{se(Pe,1,(s(j),P(()=>`level-${s(j).level}`))),te(Ue,(s(j),P(()=>s(j).text)))}),O(xt,Pe)}),O(we,ke)},$$slots:{default:!0}})};De(ye,Q=>{s(be)==="browser"?Q(xe):s(be)==="inspector"?Q(ze,1):s(he)&&Q(Et,2)})}G(()=>{Z=se(z,1,"tray-tab",null,Z,{active:s(be)==="browser"}),ge=se(J,1,"tray-tab",null,ge,{active:s(be)==="inspector"})}),X("pointerdown",T,Q=>Ht(Q,"tray")),X("click",z,()=>w(be,"browser")),X("click",J,()=>w(be,"inspector")),X("click",ut,()=>w(Je,!1)),O(d,b)};De(kt,d=>{s(Je)&&d(gr)})}ar(Ut,d=>w(B,d),()=>s(B));var Gr=I(Nn,2);{var rs=d=>{var b=Tl(),T=E(b),F=E(T),z=E(F),Z=E(z),J=I(z,2),ge=I(F,2),Ye=E(ge);{var ct=ce=>{var ye=kl(),xe=wr(ye),ze=E(xe);let Et;var Q=I(ze,2);let we;var et=I(Q,2);let ke;var xt=I(xe,2),j=E(xt);{var Pe=Se=>{var ft=gl();O(Se,ft)},ue=Se=>{var ft=yl();O(Se,ft)},Ue=Se=>{var ft=wl(),On=I(wr(ft),2),tt=E(On);G(()=>Er(tt,s(he))),X("change",tt,Wn),O(Se,ft)};De(j,Se=>{s(Ze)==="general"?Se(Pe):s(Ze)==="appearance"?Se(ue,1):Se(Ue,!1)})}G(()=>{Et=se(ze,1,"cover-tab",null,Et,{active:s(Ze)==="general"}),we=se(Q,1,"cover-tab",null,we,{active:s(Ze)==="appearance"}),ke=se(et,1,"cover-tab",null,ke,{active:s(Ze)==="debug"})}),X("click",ze,()=>w(Ze,"general")),X("click",Q,()=>w(Ze,"appearance")),X("click",et,()=>w(Ze,"debug")),O(ce,ye)},ut=ce=>{var ye=Sl(),xe=wr(ye),ze=E(xe);let Et;var Q=I(ze,2);let we;var et=I(xe,2);let ke;var xt=E(et);{var j=ue=>{var Ue=El();O(ue,Ue)},Pe=ue=>{var Ue=xl();O(ue,Ue)};De(xt,ue=>{s(me)==="about"?ue(j):ue(Pe,!1)})}G(()=>{Et=se(ze,1,"cover-tab",null,Et,{active:s(me)==="about"}),we=se(Q,1,"cover-tab",null,we,{active:s(me)==="docs"}),ke=se(et,1,"cover-panel",null,ke,{"docs-panel":s(me)==="docs"})}),X("click",ze,()=>w(me,"about")),X("click",Q,()=>w(me,"docs")),O(ce,ye)};De(Ye,ce=>{s(pt)==="settings"?ce(ct):ce(ut,!1)})}G(()=>{Xt(T,"aria-label",s(pt)==="settings"?"Settings":"Help"),te(Z,s(pt)==="settings"?"Settings":"Help")}),X("click",J,vr),O(d,b)};De(Gr,d=>{s(pt)&&d(rs)})}var is=I(Gr,2),Qn=I(E(is),2),ss=E(Qn),as=I(Qn,2);G(()=>{Pn=se(ln,1,"cad-app",null,Pn,{"tray-hidden-mobile":!s(Je)}),u=se(Ut,1,"workspace-stack",null,u,{"tray-visible":s(Je)}),kr(Ut,`--left-pane-w:${s(Ge)}px; --right-pane-w:${s(Fe)}px; --console-h:${s(Ie)}px; --tray-h:${s(Ct)}px;`),Xt(Qn,"aria-pressed",s(he)),te(ss,s(he)?"Hide Console":"Show Console")}),X("pointerdown",wt,d=>Ht(d,"left")),X("pointerdown",Dn,d=>Ht(d,"right")),X("click",Qn,xn),X("click",as,()=>w(Je,!0)),O(e,ln),cr(),r()}wa(Cl,{target:document.getElementById("app")});
